<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Parallax</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Atkinson+Hyperlegible:ital,wght@0,400;0,700;1,400&family=JetBrains+Mono:wght@400;500;600;700&family=Syne:wght@600;700;800&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root { --accent: #a855f7; --accent-dim: rgba(168,85,247,0.12); }

        body {
            font-family: 'Atkinson Hyperlegible', sans-serif;
            background: #09090b;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .orb { position: fixed; border-radius: 50%; filter: blur(90px); opacity: 0.2; pointer-events: none; transition: background 0.5s; }
        .orb-1 { width: 550px; height: 550px; top: -150px; left: -100px; background: var(--accent); }
        .orb-2 { width: 400px; height: 400px; bottom: -100px; right: -80px; background: var(--accent); opacity: 0.12; }

        /* ── Floating controls ── */
        .color-picker { position: fixed; top: 24px; left: 24px; display: flex; align-items: center; gap: 8px; z-index: 100; }
        .cp-label { font-family: 'JetBrains Mono', monospace; font-size: 10px; color: #3f3f46; letter-spacing: 0.1em; }
        .color-dot { width: 16px; height: 16px; border-radius: 50%; cursor: pointer; border: 2px solid transparent; transition: all 0.15s; }
        .color-dot:hover { transform: scale(1.2); }
        .color-dot.active { border-color: white; transform: scale(1.15); }

        .mode-toggle { position: fixed; top: 24px; right: 24px; display: flex; gap: 6px; z-index: 100; }
        .mode-toggle button {
            font-family: 'JetBrains Mono', monospace; font-size: 11px; font-weight: 600;
            letter-spacing: 0.06em; padding: 7px 14px; border-radius: 8px;
            border: 1px solid rgba(255,255,255,0.08); background: rgba(255,255,255,0.04);
            color: #52525b; cursor: pointer; transition: all 0.2s;
        }
        .mode-toggle button.active { background: var(--accent-dim); border-color: var(--accent); color: #fff; }

        /* ════════ AESTHETIC ════════ */
        #aesthetic-view { width: 760px; display: flex; flex-direction: column; }

        /* Search */
        .ae-search {
            background: rgba(22,22,26,0.92); backdrop-filter: blur(32px);
            border: 1px solid rgba(255,255,255,0.08); border-bottom: none;
            border-radius: 20px 20px 0 0;
            height: 58px; padding: 0 20px;
            display: flex; align-items: center; gap: 14px;
        }
        .ae-search-icon { font-size: 26px; color: var(--accent); display: flex; align-items: center; flex-shrink: 0; line-height: 1; }
        .ae-search-input {
            flex: 1; background: none; border: none; outline: none;
            font-family: 'Atkinson Hyperlegible', sans-serif;
            font-size: 16px; font-weight: 700; color: #fff; line-height: 1;
        }
        .ae-search-input::placeholder { color: #3f3f46; font-weight: 400; }

        /* Nav bar */
        .ae-nav {
            background: rgba(16,16,20,0.96); backdrop-filter: blur(32px);
            border-left: 1px solid rgba(255,255,255,0.06);
            border-right: 1px solid rgba(255,255,255,0.06);
            border-top: 1px solid rgba(255,255,255,0.04);
            height: 44px; padding: 0 12px;
            display: flex; align-items: center; justify-content: space-between; gap: 8px;
        }
        .ae-pills { display: flex; align-items: center; gap: 2px; overflow-x: auto; scrollbar-width: none; }
        .ae-pill {
            font-family: 'Atkinson Hyperlegible', sans-serif;
            font-size: 12px; font-weight: 700;
            padding: 5px 11px; border-radius: 14px;
            border: 1px solid transparent; background: transparent;
            color: #52525b; cursor: pointer; white-space: nowrap;
            display: flex; align-items: center; gap: 5px; transition: all 0.15s;
        }
        .ae-pill:hover:not(.active) { color: #a1a1aa; background: rgba(255,255,255,0.04); }
        .ae-pill.active { background: var(--accent-dim); border-color: var(--accent); color: #fff; }
        .ae-pill-icon { font-size: 11px; }

        .ae-nav-right { display: flex; align-items: center; gap: 4px; flex-shrink: 0; }
        .ae-action-btn {
            width: 32px; height: 32px; border-radius: 9px;
            border: 1px solid rgba(255,255,255,0.08);
            background: rgba(255,255,255,0.04);
            color: #71717a; cursor: pointer; font-size: 17px;
            display: flex; align-items: center; justify-content: center;
            transition: all 0.15s;
        }
        .ae-action-btn:hover { color: #fff; border-color: rgba(255,255,255,0.18); background: rgba(255,255,255,0.08); }

        /* Results panel */
        .ae-results {
            background: rgba(12,12,16,0.97); backdrop-filter: blur(32px);
            border: 1px solid rgba(255,255,255,0.05); border-top: none;
            border-radius: 0 0 20px 20px;
            display: flex; flex-direction: column; overflow: hidden;
        }
        .ae-list { overflow-y: auto; scrollbar-width: thin; scrollbar-color: #27272a transparent; }

        .ae-item {
            display: flex; align-items: center; gap: 14px;
            padding: 11px 18px; cursor: pointer; transition: background 0.1s;
            border-bottom: 1px solid rgba(255,255,255,0.025);
        }
        .ae-item:last-child { border-bottom: none; }
        .ae-item:hover { background: rgba(255,255,255,0.025); }
        .ae-item.selected { background: var(--accent-dim); border-left: 2px solid var(--accent); padding-left: 16px; }

        .ae-icon {
            width: 36px; height: 36px; border-radius: 9px; flex-shrink: 0;
            display: flex; align-items: center; justify-content: center;
            font-family: 'JetBrains Mono', monospace; font-size: 10px; font-weight: 700;
        }
        .ae-body { flex: 1; min-width: 0; }
        .ae-name { font-size: 14px; font-weight: 700; color: #f4f4f5; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; margin-bottom: 2px; }
        .ae-path { font-family: 'JetBrains Mono', monospace; font-size: 11px; color: #3f3f46; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

        .ae-right { display: flex; flex-direction: column; align-items: flex-end; gap: 5px; flex-shrink: 0; }
        .ae-time { font-family: 'JetBrains Mono', monospace; font-size: 10px; color: #3f3f46; }
        .ae-badge { font-family: 'JetBrains Mono', monospace; font-size: 9px; font-weight: 700; letter-spacing: 0.08em; padding: 2px 8px; border-radius: 4px; text-transform: uppercase; }

        .ae-status {
            display: flex; align-items: center; justify-content: space-between;
            padding: 8px 18px; border-top: 1px solid rgba(255,255,255,0.04);
        }
        .ae-status-name { font-family: 'Syne', sans-serif; font-size: 11px; font-weight: 700; color: #27272a; letter-spacing: 0.08em; text-transform: uppercase; }
        .ae-stats { display: flex; gap: 18px; }
        .ae-stat { font-family: 'JetBrains Mono', monospace; font-size: 11px; color: #3f3f46; }
        .ae-stat strong { color: #71717a; font-weight: 600; }
        .ae-stat.fast strong { color: #4ade80; }

        /* ════════ ADVANCED ════════ */
        #advanced-view { width: 920px; display: none; flex-direction: column; }
        .adv-frame { border: 1px solid #1c1c1f; border-radius: 10px; overflow: hidden; background: #0a0a0b; display: flex; flex-direction: column; }

        .adv-titlebar { background: #111113; border-bottom: 1px solid #1c1c1f; padding: 8px 14px; display: flex; align-items: center; gap: 10px; flex-shrink: 0; }
        .adv-dots { display: flex; gap: 6px; }
        .adv-dot { width: 10px; height: 10px; border-radius: 50%; background: #27272a; }
        .adv-title { font-family: 'JetBrains Mono', monospace; font-size: 11px; color: #27272a; flex: 1; text-align: center; letter-spacing: 0.06em; }

        .adv-cmd { background: #0d0d0f; border-bottom: 1px solid #1c1c1f; padding: 11px 16px; display: flex; align-items: center; gap: 10px; flex-shrink: 0; }
        .adv-prompt { font-family: 'JetBrains Mono', monospace; font-size: 13px; font-weight: 700; color: var(--accent); flex-shrink: 0; }
        .adv-input { flex: 1; background: none; border: none; outline: none; font-family: 'JetBrains Mono', monospace; font-size: 13px; font-weight: 500; color: #e4e4e7; caret-color: var(--accent); }
        .adv-input::placeholder { color: #27272a; }
        .adv-flags { display: flex; gap: 5px; flex-shrink: 0; }
        .adv-flag { font-family: 'JetBrains Mono', monospace; font-size: 10px; font-weight: 600; color: #52525b; background: #111113; border: 1px solid #1c1c1f; border-radius: 4px; padding: 3px 8px; cursor: pointer; transition: all 0.1s; }
        .adv-flag:hover, .adv-flag.on { color: var(--accent); border-color: var(--accent); background: var(--accent-dim); }

        .adv-body { display: flex; height: 460px; overflow: hidden; }
        .adv-list { width: 400px; border-right: 1px solid #1c1c1f; overflow-y: auto; flex-shrink: 0; }
        .adv-list::-webkit-scrollbar { width: 3px; }
        .adv-list::-webkit-scrollbar-thumb { background: #27272a; }

        .adv-result { padding: 8px 14px; border-bottom: 1px solid #0f0f11; cursor: pointer; transition: background 0.08s; display: flex; align-items: flex-start; gap: 10px; }
        .adv-result:hover { background: #0f0f11; }
        .adv-result.selected { background: var(--accent-dim); border-left: 2px solid var(--accent); padding-left: 12px; }
        .adv-rnum { font-family: 'JetBrains Mono', monospace; font-size: 10px; color: #27272a; width: 20px; flex-shrink: 0; text-align: right; padding-top: 1px; }
        .adv-rbody { flex: 1; min-width: 0; }
        .adv-rname { font-family: 'JetBrains Mono', monospace; font-size: 12px; font-weight: 600; color: #d4d4d8; margin-bottom: 2px; }
        .adv-rpath { font-family: 'JetBrains Mono', monospace; font-size: 10px; color: #3f3f46; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
        .adv-rmatch { font-family: 'JetBrains Mono', monospace; font-size: 10px; color: #3f3f46; margin-top: 3px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
        .adv-rmatch .hl { color: var(--accent); font-weight: 700; }
        .adv-rext { font-family: 'JetBrains Mono', monospace; font-size: 9px; color: #27272a; flex-shrink: 0; padding-top: 2px; }

        .adv-preview { flex: 1; display: flex; flex-direction: column; overflow: hidden; }
        .adv-preview-hdr { background: #0d0d0f; border-bottom: 1px solid #1c1c1f; padding: 8px 14px; display: flex; align-items: center; justify-content: space-between; flex-shrink: 0; }
        .adv-preview-title { font-family: 'JetBrains Mono', monospace; font-size: 11px; color: #52525b; }
        .adv-preview-title strong { color: #a1a1aa; }
        .adv-preview-btns { display: flex; gap: 6px; }
        .adv-pbtn { font-family: 'JetBrains Mono', monospace; font-size: 9px; font-weight: 700; letter-spacing: 0.07em; color: #3f3f46; background: #111113; border: 1px solid #1c1c1f; border-radius: 4px; padding: 3px 8px; cursor: pointer; transition: all 0.1s; }
        .adv-pbtn:hover { color: var(--accent); border-color: var(--accent); }

        .adv-code { flex: 1; overflow-y: auto; padding: 14px 16px; font-family: 'JetBrains Mono', monospace; font-size: 12px; line-height: 1.75; }
        .adv-code::-webkit-scrollbar { width: 3px; }
        .adv-code::-webkit-scrollbar-thumb { background: #1c1c1f; }
        .adv-line { display: flex; gap: 16px; }
        .adv-ln { color: #27272a; width: 26px; flex-shrink: 0; text-align: right; user-select: none; }
        .adv-lc { color: #3f3f46; }
        .adv-lc .kw { color: #52525b; }
        .adv-lc .fn { color: #71717a; }
        .adv-lc .hl { color: var(--accent); font-weight: 700; }
        .adv-lc .cm { color: #27272a; font-style: italic; }

        .adv-statusbar { background: var(--accent); padding: 4px 14px; display: flex; align-items: center; justify-content: space-between; flex-shrink: 0; }
        .adv-sl { font-family: 'JetBrains Mono', monospace; font-size: 10px; font-weight: 700; color: rgba(0,0,0,0.65); letter-spacing: 0.08em; }
        .adv-sr { display: flex; gap: 18px; }
        .adv-si { font-family: 'JetBrains Mono', monospace; font-size: 10px; font-weight: 600; color: rgba(0,0,0,0.55); }
        .adv-si strong { color: rgba(0,0,0,0.85); }
    </style>
</head>
<body>

<div class="orb orb-1" id="orb1"></div>
<div class="orb orb-2" id="orb2"></div>

<div class="color-picker">
    <span class="cp-label">ACCENT</span>
    <div class="color-dot active" data-color="#a855f7" data-r="168" data-g="85" data-b="247" style="background:#a855f7"></div>
    <div class="color-dot" data-color="#22d3ee" data-r="34" data-g="211" data-b="238" style="background:#22d3ee"></div>
    <div class="color-dot" data-color="#f59e0b" data-r="245" data-g="158" data-b="11" style="background:#f59e0b"></div>
    <div class="color-dot" data-color="#4ade80" data-r="74" data-g="222" data-b="128" style="background:#4ade80"></div>
    <div class="color-dot" data-color="#f43f5e" data-r="244" data-g="63" data-b="94" style="background:#f43f5e"></div>
</div>

<div class="mode-toggle">
    <button class="active" onclick="setMode('aesthetic')">✦ Aesthetic</button>
    <button onclick="setMode('advanced')">⌥ Advanced</button>
</div>

<!-- ═══ AESTHETIC ═══ -->
<div id="aesthetic-view">

    <div class="ae-search">
        <span class="ae-search-icon">⌕</span>
        <input class="ae-search-input" id="ae-input" placeholder="Search files, apps, games, content…" oninput="aeFilter()">
    </div>

    <div class="ae-nav">
        <div class="ae-pills">
            <button class="ae-pill active"><span class="ae-pill-icon">⊞</span> All</button>
            <button class="ae-pill"><span class="ae-pill-icon">⊙</span> Apps</button>
            <button class="ae-pill"><span class="ae-pill-icon">◈</span> Games</button>
            <button class="ae-pill"><span class="ae-pill-icon">◻</span> Docs</button>
            <button class="ae-pill"><span class="ae-pill-icon">♪</span> Media</button>
            <button class="ae-pill"><span class="ae-pill-icon">⬡</span> Code</button>
        </div>
        <div class="ae-nav-right">
            <button class="ae-action-btn" title="Plugin Shop">⬡</button>
            <button class="ae-action-btn" title="Settings">⚙</button>
        </div>
    </div>

    <div class="ae-results">
        <div class="ae-list" id="ae-list"></div>
        <div class="ae-status">
            <span class="ae-status-name">Parallax</span>
            <div class="ae-stats">
                <span class="ae-stat"><strong>248k</strong> indexed</span>
                <span class="ae-stat"><strong>12,481</strong> matches</span>
                <span class="ae-stat fast"><strong>43ms</strong></span>
                <span class="ae-stat"><strong>16t</strong></span>
            </div>
        </div>
    </div>

</div>

<!-- ═══ ADVANCED ═══ -->
<div id="advanced-view">
    <div class="adv-frame">
        <div class="adv-titlebar">
            <div class="adv-dots"><div class="adv-dot"></div><div class="adv-dot"></div><div class="adv-dot"></div></div>
            <div class="adv-title">parallax — advanced</div>
        </div>
        <div class="adv-cmd">
            <span class="adv-prompt">▸</span>
            <input class="adv-input" id="adv-input" placeholder="pattern · path · regex · symbol…" oninput="advFilter()">
            <div class="adv-flags">
                <button class="adv-flag on">Aa</button>
                <button class="adv-flag">/./ </button>
                <button class="adv-flag">.*</button>
                <button class="adv-flag">-a</button>
            </div>
        </div>
        <div class="adv-body">
            <div class="adv-list" id="adv-list"></div>
            <div class="adv-preview">
                <div class="adv-preview-hdr">
                    <span class="adv-preview-title"><strong>UserService.java</strong> · backend/services/</span>
                    <div class="adv-preview-btns">
                        <button class="adv-pbtn">OPEN</button>
                        <button class="adv-pbtn">COPY PATH</button>
                        <button class="adv-pbtn">REVEAL</button>
                    </div>
                </div>
                <div class="adv-code">
                    <div class="adv-line"><span class="adv-ln">1</span><span class="adv-lc cm">// UserService.java</span></div>
                    <div class="adv-line"><span class="adv-ln">2</span><span class="adv-lc"></span></div>
                    <div class="adv-line"><span class="adv-ln">3</span><span class="adv-lc"><span class="kw">import</span> java.util.Optional;</span></div>
                    <div class="adv-line"><span class="adv-ln">4</span><span class="adv-lc"><span class="kw">import</span> org.springframework.stereotype.Service;</span></div>
                    <div class="adv-line"><span class="adv-ln">5</span><span class="adv-lc"></span></div>
                    <div class="adv-line"><span class="adv-ln">6</span><span class="adv-lc"><span class="kw">@Service</span></span></div>
                    <div class="adv-line"><span class="adv-ln">7</span><span class="adv-lc"><span class="kw">public class</span> <span class="fn">UserService</span> {</span></div>
                    <div class="adv-line"><span class="adv-ln">8</span><span class="adv-lc"></span></div>
                    <div class="adv-line"><span class="adv-ln">9</span><span class="adv-lc">    <span class="kw">private final</span> UserRepository repo;</span></div>
                    <div class="adv-line"><span class="adv-ln">10</span><span class="adv-lc"></span></div>
                    <div class="adv-line"><span class="adv-ln">11</span><span class="adv-lc">    <span class="kw">public</span> Optional&lt;User&gt; <span class="hl">getUserById</span>(Long id) {</span></div>
                    <div class="adv-line"><span class="adv-ln">12</span><span class="adv-lc">        <span class="kw">return</span> repo.findById(id);</span></div>
                    <div class="adv-line"><span class="adv-ln">13</span><span class="adv-lc">    }</span></div>
                    <div class="adv-line"><span class="adv-ln">14</span><span class="adv-lc"></span></div>
                    <div class="adv-line"><span class="adv-ln">15</span><span class="adv-lc">    <span class="kw">public</span> User <span class="fn">createUser</span>(CreateUserDto dto) {</span></div>
                    <div class="adv-line"><span class="adv-ln">16</span><span class="adv-lc">        User user = <span class="kw">new</span> <span class="fn">User</span>(dto.getName());</span></div>
                    <div class="adv-line"><span class="adv-ln">17</span><span class="adv-lc">        <span class="kw">return</span> repo.save(user);</span></div>
                    <div class="adv-line"><span class="adv-ln">18</span><span class="adv-lc">    }</span></div>
                    <div class="adv-line"><span class="adv-ln">19</span><span class="adv-lc">}</span></div>
                </div>
            </div>
        </div>
        <div class="adv-statusbar">
            <span class="adv-sl">PARALLAX · ADVANCED</span>
            <div class="adv-sr">
                <span class="adv-si"><strong>248k</strong> files</span>
                <span class="adv-si"><strong>12,481</strong> hits</span>
                <span class="adv-si"><strong>43ms</strong></span>
                <span class="adv-si"><strong>16t</strong></span>
                <span class="adv-si">cache <strong>HIT</strong></span>
            </div>
        </div>
    </div>
</div>

<script>
const results = [
    { ext:'RS',   color:'#f97316', bg:'rgba(249,115,22,0.14)',  name:'engine.rs',        path:'parex/src/',           badge:'MODULE', time:'2h ago',  match:'pub(crate) fn run(opts: Engine' },
    { ext:'RS',   color:'#f97316', bg:'rgba(249,115,22,0.14)',  name:'search.rs',         path:'ldx/src/',             badge:'MODULE', time:'3h ago',  match:'fn handle_match(ctx: &MatchCtx' },
    { ext:'TS',   color:'#3b82f6', bg:'rgba(59,130,246,0.14)',  name:'parseQuery()',      path:'src/core/parser.ts',   badge:'FN',     time:'1d ago',  match:'export function parseQuery(q)' },
    { ext:'GO',   color:'#22d3ee', bg:'rgba(34,211,238,0.14)',  name:'matchPattern()',    path:'utils/patterns.go',    badge:'FN',     time:'2d ago',  match:'func matchPattern(p, s string)' },
    { ext:'PY',   color:'#facc15', bg:'rgba(250,204,21,0.14)',  name:'database.py',       path:'src/db/',              badge:'FILE',   time:'5d ago',  match:'def connect(db_url: str)' },
    { ext:'JAVA', color:'#ef4444', bg:'rgba(239,68,68,0.14)',   name:'UserService.java',  path:'backend/services/',    badge:'CLASS',  time:'1w ago',  match:'public class UserService {' },
    { ext:'MD',   color:'#8b5cf6', bg:'rgba(139,92,246,0.14)',  name:'CHANGELOG.md',      path:'localdex/',            badge:'DOC',    time:'2d ago',  match:'## v0.1.1 — Script Consolidation' },
];

function aeRender(data) {
    document.getElementById('ae-list').innerHTML = data.map((r, i) => `
        <div class="ae-item ${i === 1 ? 'selected' : ''}">
            <div class="ae-icon" style="background:${r.bg};color:${r.color}">${r.ext}</div>
            <div class="ae-body">
                <div class="ae-name">${r.name}</div>
                <div class="ae-path">${r.path}</div>
            </div>
            <div class="ae-right">
                <span class="ae-time">${r.time}</span>
                <span class="ae-badge" style="background:${r.bg};color:${r.color};border:1px solid ${r.color}38">${r.badge}</span>
            </div>
        </div>
    `).join('');
}

function advRender(data) {
    document.getElementById('adv-list').innerHTML = data.map((r, i) => `
        <div class="adv-result ${i === 5 ? 'selected' : ''}" onclick="advSelect(${i})">
            <span class="adv-rnum">${i+1}</span>
            <div class="adv-rbody">
                <div class="adv-rname">${r.name}</div>
                <div class="adv-rpath">${r.path}</div>
                <div class="adv-rmatch">${r.match}</div>
            </div>
            <span class="adv-rext">${r.ext}</span>
        </div>
    `).join('');
}

function aeFilter() {
    const q = document.getElementById('ae-input').value.toLowerCase();
    aeRender(q ? results.filter(r => r.name.toLowerCase().includes(q) || r.path.toLowerCase().includes(q)) : results);
}

function advFilter() {
    const q = document.getElementById('adv-input').value.toLowerCase();
    advRender(q ? results.filter(r => r.name.toLowerCase().includes(q) || r.path.toLowerCase().includes(q)) : results);
}

function advSelect(i) {
    document.querySelectorAll('.adv-result').forEach((el, idx) => el.classList.toggle('selected', idx === i));
}

function setMode(mode) {
    const ae = mode === 'aesthetic';
    document.getElementById('aesthetic-view').style.display = ae ? 'flex' : 'none';
    document.getElementById('advanced-view').style.display = ae ? 'none' : 'flex';
    document.getElementById('orb1').style.display = ae ? 'block' : 'none';
    document.getElementById('orb2').style.display = ae ? 'block' : 'none';
    document.querySelectorAll('.mode-toggle button').forEach((b, i) => b.classList.toggle('active', ae ? i === 0 : i === 1));
}

document.querySelectorAll('.color-dot').forEach(dot => {
    dot.addEventListener('click', () => {
        const { color, r, g, b } = dot.dataset;
        document.documentElement.style.setProperty('--accent', color);
        document.documentElement.style.setProperty('--accent-dim', `rgba(${r},${g},${b},0.12)`);
        document.querySelectorAll('.color-dot').forEach(d => d.classList.remove('active'));
        dot.classList.add('active');
    });
});

document.querySelectorAll('.ae-pill').forEach(pill => {
    pill.addEventListener('click', () => {
        document.querySelectorAll('.ae-pill').forEach(p => p.classList.remove('active'));
        pill.classList.add('active');
    });
});

document.querySelectorAll('.adv-flag').forEach(f => f.addEventListener('click', () => f.classList.toggle('on')));

aeRender(results);
advRender(results);
</script>
</body>
</html>
